%%
%% Welcome to the official reference of
%% raipara-re ry (r3)
%%
%% @author AKANE AKAGI a.k.a. akaregi
%% @license CC BY-SA 4.0 International
%%

%%
%% ltjsreport
%%
\documentclass[a4paper, 12pt, titlepage]{ltjsreport}

%%
%% LuaLaTeX
%%
\usepackage[deluxe, bold, haranoaji]{luatexja-preset}

%%
%% hyperref
%%
\usepackage[%
    unicode=true,%
    bookmarks=true,%
    bookmarksnumbered=true,%
    bookmarksdepth=3,%
    colorlinks=true,%
    linkcolor=blue,%
    pdftitle={raipara-re ry},%
    pdfauthor={赤城　茜}%
]{hyperref}

\setmainfont{CMU Concrete}
\setsansfont{Tex Gyre Heros}

%%
%% titlesec / heading
%%
\usepackage{titlesec}

\titleformat{\part}[display]{\HUGE\sffamily\gtfamily\bfseries}{\sffamily\bfseries 第 \thepart 部}{5px}{}
\titleformat{\section}{\huge\sffamily\gtfamily\bfseries}{\sffamily\bfseries\thesection}{1em}{}
\titleformat{\subsection}{\LARGE\sffamily\gtfamily\bfseries}{\sffamily\bfseries\thesubsection}{1em}{}
\titleformat{\subsubsection}{\large\sffamily\gtfamily\bfseries}{\sffamily\bfseries\thesubsubsection}{1em}{}

%%
%% cleveref
%%
\usepackage{cleveref}
\crefname{table}{表}{表}
\crefname{section}{節}{節}
\creflabelformat{section}{#2#1#3}
\crefname{subsection}{節}{節}
\creflabelformat{subsection}{#2#1#3}

%%
%% fancyhdr
%%
\usepackage{fancyhdr}
\pagestyle{fancy}
    \lhead{raipara-re ry}
    \rhead{\thepage}
    \cfoot{}

%%
%% etoolbox, to delete Jigoku top-margin for wraptable
%%
\usepackage{etoolbox}

\newcommand*{\zerotablemargin}{
    \setlength\abovecaptionskip{0pt}
    \setlength\floatsep{0pt}
    \setlength\textfloatsep{0pt}
    \setlength\intextsep{0pt}
}

\newcommand*{\deftablemargin}{
    \setlength\abovecaptionskip{6pt}
    \setlength\floatsep{14pt}
    \setlength\textfloatsep{22pt}
    \setlength\intextsep{14pt}
}

\BeforeBeginEnvironment{wraptable}{
    \zerotablemargin
}

\BeforeBeginEnvironment{table}{
    \deftablemargin
}

%%
%% misc
%%
\usepackage{tipa, tipx} % for IPA
\usepackage{multicol}   % for multi columns
\usepackage{booktabs}   % for better table
\usepackage{longtable}  % for long table
\usepackage{csvsimple}  % for loading some csv
\usepackage{wrapfig}    % for wrapping the table
\usepackage{here}       % for explicit place H
\usepackage{changepage} % for env:adjustwidth
\usepackage{ascmac}     % for itembox

%%
%% macros
%%
\newcommand*{\ipa}[2]{
    {\textbf{#1}}{\textipa{[#2]}}
}

\newcommand*{\lyric}[2]{
    {#1\hspace{\fill}}{#2}
}

\newcommand*{\subattr}[1]{
    {\textsubscript{\textsc{#1}}}
}

\newcommand*{\supattr}[1]{
    {\textsuperscript{\textsc{#1}}}
}

\makeatletter
\DeclareRobustCommand{\supsub}[2]{{%
  \m@th\ensuremath{%
    ^{\mbox{\fontsize\sf@size\z@\textsc{#1}}}%
    _{\mbox{\fontsize\sf@size\z@\textsc{#2}}}%
  }%
}}
\makeatother

%%
%% others
%%

% indent macro
\newenvironment{pindent}{\begin{adjustwidth}{1cm}{}}{\end{adjustwidth}}
% Appendix name
\renewcommand{\appendixname}{Appendix }

%%
%% BEGIN WRITING
%%
\title{raipara-re ry}
\author{赤城　茜}

\begin{document}

\maketitle

\tableofcontents

\part{はじめに}

% Preamble
\input{pages/preamble}

\part{言語システム}

% Phonology
\input{pages/phonology}

% Morphology
\input{pages/morphology}

% Syntax
\input{pages/syntax-common}
\input{pages/syntax-mod-sup.tex}

\part{附録}

% Appendix
\appendix
\input{pages/appendix-a}
\input{pages/appendix-b}
\input{pages/appendix-c}

\end{document}